{"version":3,"file":"component---src-pages-talks-index-tsx-6d65219d63af6ea80b6f.js","mappings":"oKAeA,UATkBA,IAAA,IAAC,KAAEC,GAAwCD,EAAA,OAC3DE,EAAAA,cAACC,EAAAA,EAAM,KACLD,EAAAA,cAAA,UAAI,gBACHD,EAAKG,kBAAkBC,MAAMC,KAAIC,IAAA,IAAC,KAAEC,GAAMD,EAAA,OACzCL,EAAAA,cAACO,EAAAA,EAAQ,CAACR,KAAMO,EAAKE,YAAaC,IAAKH,EAAKI,IAAM,IAE7C,C,+CCTX,MAkBMC,EAAgB,SAAUC,GAC9B,MAAMC,EAAc,IAAIC,KACxB,OAAOF,EAAOG,MAAK,SAAUC,EAAGC,GAC9B,IAAIC,EAAQ,IAAIJ,KAAKE,EAAEG,MACnBC,EAAQ,IAAIN,KAAKG,EAAEE,MAEvB,OAAID,EAAQL,GAAeO,EAAQP,GACzB,EAGHK,EAAQE,CACjB,GACF,EAEA,IAhCiBtB,IAAe,IAAd,KAAEC,GAAMD,EACxB,MAAMuB,EAAgBV,EAAcZ,EAAKa,QACzC,OACEZ,EAAAA,cAAAA,EAAAA,SAAA,KACEA,EAAAA,cAAA,OAAKsB,UAAU,uBACbtB,EAAAA,cAAA,UACEA,EAAAA,cAACuB,EAAAA,EAAI,CAACC,GAAI,SAAWzB,EAAK0B,MAAO1B,EAAK2B,QAExC1B,EAAAA,cAAA,OAAKsB,UAAU,aACZD,EAAc,GAAGF,KAAK,IAAEE,EAAcK,MAAM,MAAI,IAChDL,EAAc,GAAGM,WAGtB3B,EAAAA,cAAA,OAAK4B,wBAAyB,CAAEC,OAAQ9B,EAAK+B,SAC5C,C","sources":["webpack://peterfisher-me-uk/./src/pages/talks/index.tsx","webpack://peterfisher-me-uk/./src/components/talkList.jsx"],"sourcesContent":["import React from \"react\"\n\nimport Layout from \"../../components/layout\"\nimport { graphql, PageProps } from \"gatsby\"\nimport TalkList from \"../../components/talkList\"\n\nconst IndexPage = ({ data }: PageProps<Queries.TalkPageQuery>) => (\n  <Layout>\n    <h2>Latest talks</h2>\n    {data.allMarkdownRemark.edges.map(({ node }) => (\n      <TalkList data={node.frontmatter} key={node.id} />\n    ))}\n  </Layout>\n)\n\nexport default IndexPage\n\nexport const pageQuery = graphql`\n  query TalkPage {\n    allMarkdownRemark(\n      filter: { frontmatter: { type: { eq: \"talk\" } } }\n      sort: { frontmatter: { date: DESC } }\n    ) {\n      edges {\n        node {\n          id\n          excerpt(pruneLength: 250)\n          frontmatter {\n            slug\n            title\n            events {\n              title\n              date\n              link\n              location\n            }\n          }\n        }\n      }\n    }\n  }\n`\n","import React from \"react\"\nimport Link from \"./link\"\n\nconst TalkList = ({ data }) => {\n  const soonestEvents = sortBySoonest(data.events)\n  return (\n    <>\n      <div className=\"talk-info-container\">\n        <h2>\n          <Link to={`/talks` + data.slug}>{data.title}</Link>\n        </h2>\n        <div className=\"talk-info\">\n          {soonestEvents[0].date} {soonestEvents.title} in{\" \"}\n          {soonestEvents[0].location}\n        </div>\n      </div>\n      <div dangerouslySetInnerHTML={{ __html: data.brief }} />\n    </>\n  )\n}\n\nconst sortBySoonest = function (events) {\n  const currentDate = new Date()\n  return events.sort(function (a, b) {\n    let dateA = new Date(a.date)\n    let dateB = new Date(b.date)\n    // Move all the dates that are in the past to the end of the array\n    if (dateA < currentDate || dateB < currentDate) {\n      return -1\n    }\n    // Order by soonest\n    return dateA - dateB\n  })\n}\n\nexport default TalkList\n"],"names":["_ref","data","React","Layout","allMarkdownRemark","edges","map","_ref2","node","TalkList","frontmatter","key","id","sortBySoonest","events","currentDate","Date","sort","a","b","dateA","date","dateB","soonestEvents","className","Link","to","slug","title","location","dangerouslySetInnerHTML","__html","brief"],"sourceRoot":""}